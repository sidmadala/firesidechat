(this.webpackJsonpfireside=this.webpackJsonpfireside||[]).push([[0],{15:function(e,t,n){e.exports=n(29)},20:function(e,t,n){},22:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(11),o=n.n(i),c=(n(20),n(7)),l=n.n(c),u=n(12),s=n(3),m=(n(22),n(1)),d=n.n(m),p=(n(23),n(27),n(13)),f=n(14);d.a.initializeApp({apiKey:"AIzaSyBCsCSugwJCU3Hlzmo9HdKXW6AF8oOrMnA",authDomain:"fireside-b0dbe.firebaseapp.com",databaseURL:"https://fireside-b0dbe.firebaseio.com",projectId:"fireside-b0dbe",storageBucket:"fireside-b0dbe.appspot.com",messagingSenderId:"410455411650",appId:"1:410455411650:web:fe7f067423f899f8d9a45b",measurementId:"G-73915MQHEL"});var b=d.a.auth(),g=d.a.firestore();function h(){return r.a.createElement("button",{onClick:function(){var e=new d.a.auth.GoogleAuthProvider;b.signInWithPopup(e)}},"Sign in with Google")}function v(){return b.currentUser&&r.a.createElement("button",{onClick:function(){return b.signOut()}},"Sign Out")}function E(){var e=g.collection("messages"),t=e.orderBy("createdOnTimestamp").limit(100),n=Object(f.a)(t,{idField:"id"}),i=Object(s.a)(n,1)[0],o=Object(a.useState)(""),c=Object(s.a)(o,2),m=c[0],p=c[1],h=function(){var t=Object(u.a)(l.a.mark((function t(n){var a,r,i;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),a=b.currentUser,r=a.uid,i=a.photoURL,t.next=4,e.add({uid:r,createdOnTimestamp:d.a.firestore.FieldValue.serverTimestamp(),text:m,photoURL:i});case 4:p("");case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,r.a.createElement("main",null,i&&i.map((function(e){return r.a.createElement(w,{key:e.id,message:e})}))),r.a.createElement("form",{onSubmit:h},r.a.createElement("input",{value:m,onChange:function(e){return p(e.target.value)},placeholder:"Message"}),r.a.createElement("button",{type:"submit",disabled:!m},"Send")))}function w(e){var t=e.message,n=t.uid,a=t.photoURL,i=t.text,o=n===b.currentUser.uid?"sent":"received";return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"message ".concat(o)},r.a.createElement("img",{src:a||"https://moonvillageassociation.org/wp-content/uploads/2018/06/default-profile-picture1.jpg"}),r.a.createElement("p",null,i)))}var O=function(){var e=Object(p.a)(b),t=Object(s.a)(e,1)[0];return r.a.createElement("div",{className:"App"},r.a.createElement("header",null,r.a.createElement("h1",null,"Fireside Chat"),r.a.createElement(v,null)),r.a.createElement("section",null,t?r.a.createElement(E,null):r.a.createElement(h,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(O,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[15,1,2]]]);
//# sourceMappingURL=main.08746b79.chunk.js.map