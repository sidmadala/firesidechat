{"remainingRequest":"/Users/sidmadala/Documents/Duke/School/2020-2021/Semester 1/CS 316/Project/vue-fireside-chat/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/sidmadala/Documents/Duke/School/2020-2021/Semester 1/CS 316/Project/vue-fireside-chat/src/components/ChatList.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/sidmadala/Documents/Duke/School/2020-2021/Semester 1/CS 316/Project/vue-fireside-chat/src/components/ChatList.vue","mtime":1605422670361},{"path":"/Users/sidmadala/Documents/Duke/School/2020-2021/Semester 1/CS 316/Project/vue-fireside-chat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sidmadala/Documents/Duke/School/2020-2021/Semester 1/CS 316/Project/vue-fireside-chat/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/sidmadala/Documents/Duke/School/2020-2021/Semester 1/CS 316/Project/vue-fireside-chat/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/sidmadala/Documents/Duke/School/2020-2021/Semester 1/CS 316/Project/vue-fireside-chat/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRiIH0gZnJvbSAnLi4vZmlyZWJhc2UnOwoKZXhwb3J0IGRlZmF1bHQgewoJLy8gaW5pdGlhbGl6aW5nIHVzZXIgY2hhdHMgYXMgZW1wdHkgYXJyYXkgdG8gYmUgZmlsbGVkIGJ5IGZpcmViYXNlIHdlYmhvb2sKICBkYXRhKCkgewogICAgcmV0dXJuIHsgCiAgICAgICAgY2hhdHM6IFtdIAogICAgfQogIH0sCgkvLyByZXRyaWV2aW5nIHVzZXIgY2hhdHMgYmFzZWQgb24gdGhlaXIgVUlEIAogIGZpcmVzdG9yZSgpIHsKICAgIHJldHVybiB7IAogICAgICAgIGNoYXRzOiBkYi5jb2xsZWN0aW9uKCdjaGF0cycpLndoZXJlKCdvd25lcicsICc9PScsIHRoaXMudWlkKSAKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKCQkvLyBhZGQgYSBjaGF0cm9vbSB3aXRoIGFzeW5jaHJvbm91cyB3cml0ZSB0byBmaXJlYmFzZSB3aXRoIHVzZXIgaW5mb3JtYXRpb24KICAgICAgYXN5bmMgY3JlYXRlQ2hhdFJvb20oKSB7CiAgICAgICAgICBjb25zdCBuZXdDaGF0ID0gYXdhaXQgZGIuY29sbGVjdGlvbignY2hhdHMnKS5hZGQoewogICAgICAgICAgICAgIGNyZWF0ZWRBdDogRGF0ZS5ub3coKSwKICAgICAgICAgICAgICBvd25lcjogdGhpcy51aWQsCiAgICAgICAgICAgICAgbWVtYmVyczogW3RoaXMudWlkXQogICAgICAgICAgfSkKCQkJLy8gZGlzcGxheSBjaGF0IGluZm9ybWF0aW9uIHRvIGNvbnNvbGUgZm9yIGRlYnVnZ2luZwogICAgICAgICAgICBjb25zb2xlLmxvZyhuZXdDaGF0KQogICAgICB9CgoKICAgICAgCiAgfSwKICBwcm9wczogWyd1aWQnXSAgLy8gcGFzc2luZyBVSUQgYXMgcHJvcGVydHkgZm9yIGFjY2VzcyBpbiBvdGhlciBjb21wb25lbnRzCgp9Owo="},{"version":3,"sources":["ChatList.vue"],"names":[],"mappings":";;;;;;;;;;;;;AAaA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAIA;AACA;;AAEA","file":"ChatList.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <div>\n    <ul>\n      <li v-for=\"chat of chats\" :key=\"chat.id\">\n        <router-link :to=\"{ name: 'chat', params: { id: chat.id } }\">{{ chat.id }}</router-link>\n      </li>\n    </ul>\n\n    <button @click=\"createChatRoom()\" class=\"button\">Create New Chat Room</button>\n  </div>\n</template>\n\n<script>\nimport { db } from '../firebase';\n\nexport default {\n\t// initializing user chats as empty array to be filled by firebase webhook\n  data() {\n    return { \n        chats: [] \n    }\n  },\n\t// retrieving user chats based on their UID \n  firestore() {\n    return { \n        chats: db.collection('chats').where('owner', '==', this.uid) \n    }\n  },\n  methods: {\n\t\t// add a chatroom with asynchronous write to firebase with user information\n      async createChatRoom() {\n          const newChat = await db.collection('chats').add({\n              createdAt: Date.now(),\n              owner: this.uid,\n              members: [this.uid]\n          })\n\t\t\t// display chat information to console for debugging\n            console.log(newChat)\n      }\n\n\n      \n  },\n  props: ['uid']  // passing UID as property for access in other components\n\n};\n</script>\n"]}]}